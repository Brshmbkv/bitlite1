<template>
  <div class="text-left pt-5">
    <p class="questionnaire__title">{{ `${name}, –∞ —Ç–µ–ø–µ—Ä—å —Ä–∞—Å—Å–∫–∞–∂–∏ –Ω–µ–º–Ω–æ–≥–æ –æ —Å–µ–±–µ ü§î` }}</p>
    <p class="questionnaire__subtitle">
      –≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –º—ã –º–æ–≥–ª–∏ –ª—É—á—à–µ –ø–æ–¥–æ–±—Ä–∞—Ç—å —Ç–µ–±–µ –æ–±—É—á–∞—é—â–∏–π –º–∞—Ç–µ—Ä–∏–∞–ª
    </p>
    <v-divider class="mb-4"/>
    <component
      v-for="(question) in questions"
      :key="question.id"
      :is="getComponent(question.type)"
      :question="question.question"
      :options="question.answers"
      :value.sync="question.value"
      :answer_id.sync="question.answer_id"
    />
  </div>
</template>

<script>
import QuestionnaireTypeRadio from "@/components/Questionnaire/QuestionnaireTypeRadio";
import QuestionnaireTypeTextArea from "@/components/Questionnaire/QuestionnaireTypeTextArea";
import QuestionnaireTypeSelect from "@/components/Questionnaire/QuestionnaireTypeSelect";
import QuestionnaireTypeScale from "@/components/Questionnaire/QuestionnaireTypeScale";

export default {
  name: "Questionnaire",
  props: {
    name: String,
    questions: Array
  },
  methods: {
    getComponent(type) {
      return {
        'radio': QuestionnaireTypeRadio,
        'textarea': QuestionnaireTypeTextArea,
        'select': QuestionnaireTypeSelect,
        'scale': QuestionnaireTypeScale,
      }[type]
    }
  }
}
</script>

<style lang="scss">
.questionnaire__title {
  font-weight: 700;
  font-size: 24px;
  line-height: 40px;
  margin-bottom: 8px;
  text-align: center;
}
.questionnaire__subtitle {
  color: #5A6275;
  font-weight: 400;
  font-size: 16px;
  line-height: 24px;
  margin-bottom: 40px;
  text-align: center;
}
</style>
